doctype html
html
  head
    title DLMS: Little Bobby Tables
    // Custom Theme files
    link(href='/stylesheets/style1.css', rel='stylesheet', type='text/css', media='all')
    // Custom Theme files
    meta(http-equiv='Content-Type', content='text/html; charset=utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')
    meta(name='keywords', content='Flat Search Box Responsive, Login form web template, Sign up Web Templates, Flat Web Templates, Login signup Responsive web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design')
    // Google Fonts
    link(href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800', rel='stylesheet', type='text/css')
    script(src='https://code.jquery.com/jquery-1.10.2.js')
    // Google Fonts
  body(onload='getSearchParameters()')
    script.
      var number_of_pages;
      function getSearchParameters(){
      data = "#{result}";
      nodes = "#{nodes}";
      var array = data.split(",");
      var arrayLength = array.length;
      var graphNode = nodes.split(" ");
      var show_per_page = 30;
      //getting the amount of elements inside content div
      var number_of_items = arrayLength*3;
      //calculate the number of pages we are going to have
      number_of_pages = Math.ceil(number_of_items/show_per_page);
      //set the value of our hidden input fields
      $('#current_page').val(0);
      
      $('#show_per_page').val(show_per_page);
      for (var i = 0; i < arrayLength; i++) {
        var p = document.createElement('p');
        var a = document.createElement('a');      
        a.href = "/graph?node="+graphNode[i];
        $(a).append(array[i]);
        $(p).append("Result "+i);
        // Append the anchor tag and paragraph with the description to the results div.
        $('#searchresults').append(a,"<br><br>");
        
      }
      }
    // search start here
    .s-bar
      form(method='get', action='/search')
        input(type='text', name='query', onfocus="this.value = '';", onblur="if (this.value == '') {this.value = 'Search Bobby Tables';}")
        input(type="submit", value="Search")
    // the input fields that will hold the variables we will use
    .main-container
      #noresults
      #searchresults.link-container
      #preview.iframe-container
        iframe#box.iframe-preview
    #page_navigation
